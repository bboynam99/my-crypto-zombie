{"ast":null,"code":"import _classCallCheck from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import MyWeb3 from'./MyWeb3';import ZombieCard from\"./ZombieCard\";import{BrowserRouter as Route,Link}from\"react-router-dom\";import Page from\"./Page\";var ZombieMarket=/*#__PURE__*/function(_Component){_inherits(ZombieMarket,_Component);function ZombieMarket(props){var _this;_classCallCheck(this,ZombieMarket);_this=_possibleConstructorReturn(this,_getPrototypeOf(ZombieMarket).call(this,props));_this.state={shopZombies:[]};return _this;}_createClass(ZombieMarket,[{key:\"componentDidMount\",value:function componentDidMount(){//console.log(window.web3._extend.utils)\nvar that=this;var ethereum=window.ethereum;if(typeof ethereum!=='undefined'||typeof window.web3!=='undefined'){MyWeb3.init().then(function(res){that.zombieShop();});}else{alert('You have to install MetaMask !');}}},{key:\"zombieShop\",value:function zombieShop(){var that=this;MyWeb3.getShopZombies().then(function(zombieIds){if(zombieIds.length>0){var _loop=function _loop(){var zombieId=zombieIds[i];if(zombieId>=0){MyWeb3.zombies(zombieId).then(function(zombies){var _shopZombies=that.state.shopZombies;zombies.zombieId=zombieId;_shopZombies.push(zombies);that.setState({shopZombies:_shopZombies});});}};for(var i=0;i<zombieIds.length;i++){_loop();}}});}},{key:\"render\",value:function render(){if(this.state.shopZombies.length>0){return React.createElement(\"div\",{className:\"cards\"},this.state.shopZombies.map(function(item,index){var name=item.name;var level=item.level;return React.createElement(Link,{to:\"?ZombieDetail&id=\"+item.zombieId,key:index},React.createElement(ZombieCard,{zombie:item,name:name,level:level,key:index}));}),React.createElement(Route,{path:\"*\",component:Page}));}else{return React.createElement(\"div\",null);}}}]);return ZombieMarket;}(Component);export default ZombieMarket;","map":{"version":3,"sources":["C:/my-crypto-zombie/src/ZombieMarket.js"],"names":["React","Component","MyWeb3","ZombieCard","BrowserRouter","Route","Link","Page","ZombieMarket","props","state","shopZombies","that","ethereum","window","web3","init","then","res","zombieShop","alert","getShopZombies","zombieIds","length","zombieId","i","zombies","_shopZombies","push","setState","map","item","index","name","level"],"mappings":"8tBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,OACIC,aAAa,GACbC,CAAAA,KAFJ,CAGIC,IAHJ,KAIS,kBAJT,CAKA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,C,GAEMC,CAAAA,Y,sEACF,sBAAYC,KAAZ,CAAmB,8CACf,8EAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CAACC,WAAW,CAAC,EAAb,CAAb,CAFe,aAGlB,C,sFAEkB,CACf;AACA,GAAIC,CAAAA,IAAI,CAAG,IAAX,CACA,GAAIC,CAAAA,QAAQ,CAAGC,MAAM,CAACD,QAAtB,CACA,GAAI,MAAOA,CAAAA,QAAP,GAAoB,WAApB,EAAoC,MAAOC,CAAAA,MAAM,CAACC,IAAd,GAAuB,WAA/D,CAA6E,CACzEb,MAAM,CAACc,IAAP,GAAcC,IAAd,CAAmB,SAASC,GAAT,CAAa,CAC5BN,IAAI,CAACO,UAAL,GACH,CAFD,EAGH,CAJD,IAIM,CACFC,KAAK,CAAC,gCAAD,CAAL,CACH,CACJ,C,+CAEW,CACR,GAAIR,CAAAA,IAAI,CAAG,IAAX,CACAV,MAAM,CAACmB,cAAP,GAAwBJ,IAAxB,CAA6B,SAASK,SAAT,CAAmB,CAC5C,GAAGA,SAAS,CAACC,MAAV,CAAiB,CAApB,CAAsB,4BAEd,GAAIC,CAAAA,QAAQ,CAAGF,SAAS,CAACG,CAAD,CAAxB,CACA,GAAGD,QAAQ,EAAE,CAAb,CAAe,CACXtB,MAAM,CAACwB,OAAP,CAAeF,QAAf,EAAyBP,IAAzB,CAA8B,SAASS,OAAT,CAAkB,CAC5C,GAAIC,CAAAA,YAAY,CAAGf,IAAI,CAACF,KAAL,CAAWC,WAA9B,CACAe,OAAO,CAACF,QAAR,CAAmBA,QAAnB,CACAG,YAAY,CAACC,IAAb,CAAkBF,OAAlB,EACAd,IAAI,CAACiB,QAAL,CAAc,CAAClB,WAAW,CAACgB,YAAb,CAAd,EACH,CALD,EAMH,CAVa,EAClB,IAAI,GAAIF,CAAAA,CAAC,CAAC,CAAV,CAAYA,CAAC,CAACH,SAAS,CAACC,MAAxB,CAA+BE,CAAC,EAAhC,CAAmC,SAUlC,CACJ,CACJ,CAdD,EAeH,C,uCAEQ,CACL,GAAG,KAAKf,KAAL,CAAWC,WAAX,CAAuBY,MAAvB,CAA8B,CAAjC,CAAoC,CAChC,MACI,4BAAK,SAAS,CAAC,OAAf,EACK,KAAKb,KAAL,CAAWC,WAAX,CAAuBmB,GAAvB,CAA2B,SAACC,IAAD,CAAMC,KAAN,CAAc,CACtC,GAAIC,CAAAA,IAAI,CAAGF,IAAI,CAACE,IAAhB,CACA,GAAIC,CAAAA,KAAK,CAAGH,IAAI,CAACG,KAAjB,CACA,MACI,qBAAC,IAAD,EAAM,EAAE,CAAE,oBAAoBH,IAAI,CAACP,QAAnC,CAA6C,GAAG,CAAEQ,KAAlD,EACI,oBAAC,UAAD,EAAY,MAAM,CAAED,IAApB,CAA0B,IAAI,CAAEE,IAAhC,CAAsC,KAAK,CAAEC,KAA7C,CAAoD,GAAG,CAAEF,KAAzD,EADJ,CADJ,CAKH,CARA,CADL,CAUI,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,SAAS,CAAEzB,IAA3B,EAVJ,CADJ,CAcH,CAfD,IAeK,CACD,MAAS,gCAAT,CACH,CACJ,C,0BAzDsBN,S,EA4D3B,cAAeO,CAAAA,YAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport MyWeb3 from './MyWeb3'\r\nimport ZombieCard from \"./ZombieCard\";\r\nimport {\r\n    BrowserRouter as \r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\"\r\nimport Page from \"./Page\";\r\n\r\nclass ZombieMarket extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {shopZombies:[]  }\r\n    }\r\n     \r\n    componentDidMount(){\r\n        //console.log(window.web3._extend.utils)\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                that.zombieShop()\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n\r\n    zombieShop(){\r\n        let that = this\r\n        MyWeb3.getShopZombies().then(function(zombieIds){\r\n            if(zombieIds.length>0){\r\n                for(var i=0;i<zombieIds.length;i++){\r\n                    let zombieId = zombieIds[i]\r\n                    if(zombieId>=0){\r\n                        MyWeb3.zombies(zombieId).then(function(zombies) {\r\n                            let _shopZombies = that.state.shopZombies\r\n                            zombies.zombieId = zombieId\r\n                            _shopZombies.push(zombies);\r\n                            that.setState({shopZombies:_shopZombies})\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n    \r\n    render() { \r\n        if(this.state.shopZombies.length>0) {\r\n            return ( \r\n                <div className=\"cards\">\r\n                    {this.state.shopZombies.map((item,index)=>{\r\n                        var name = item.name\r\n                        var level = item.level\r\n                        return(\r\n                            <Link to={`?ZombieDetail&id=`+item.zombieId} key={index}>\r\n                                <ZombieCard zombie={item} name={name} level={level} key={index}></ZombieCard>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                    <Route path=\"*\" component={Page}></Route>\r\n                </div> \r\n            )\r\n        }else{\r\n            return ( <div></div>)\r\n        }\r\n    }\r\n}\r\n \r\nexport default ZombieMarket;"]},"metadata":{},"sourceType":"module"}