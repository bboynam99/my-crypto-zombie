{"ast":null,"code":"import _classCallCheck from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import ZombieCard from\"./ZombieCard\";import'./static/ZombiePreview.css';import Page from\"./Page\";import MyWeb3 from'./MyWeb3';import{BrowserRouter as Route,Link}from\"react-router-dom\";var MyZombie=/*#__PURE__*/function(_Component){_inherits(MyZombie,_Component);function MyZombie(props){var _this;_classCallCheck(this,MyZombie);_this=_possibleConstructorReturn(this,_getPrototypeOf(MyZombie).call(this,props));_this.state={zombieCount:\"\",zombies:[],zombieName:'',transactionHash:'',buyAreaDisp:1,createAreaDisp:1,txHashDisp:0};_this.createZombie=_this.createZombie.bind(_assertThisInitialized(_this));_this.buyZombie=_this.buyZombie.bind(_assertThisInitialized(_this));_this.inputChange=_this.inputChange.bind(_assertThisInitialized(_this));return _this;}_createClass(MyZombie,[{key:\"componentDidMount\",value:function componentDidMount(){var that=this;var ethereum=window.ethereum;if(typeof ethereum!=='undefined'||typeof window.web3!=='undefined'){MyWeb3.init().then(function(res){that.myZombies();});}else{alert('You have to install MetaMask !');}}},{key:\"myZombies\",value:function myZombies(){var that=this;MyWeb3.getZombiesByOwner().then(function(zombies){if(zombies.length>0){var _loop=function _loop(i){MyWeb3.zombies(zombies[i]).then(function(result){var _zombies=that.state.zombies;result.zombieId=zombies[i];_zombies.push(result);that.setState({zombies:_zombies});});};for(var i=0;i<zombies.length;i++){_loop(i);}}});}},{key:\"createZombie\",value:function createZombie(){var that=this;var _name=this.state.zombieName;MyWeb3.createZombie(_name).then(function(transactionHash){that.setState({transactionHash:transactionHash,createAreaDisp:0,txHashDisp:1});});}},{key:\"buyZombie\",value:function buyZombie(){var that=this;var _name=this.state.zombieName;MyWeb3.buyZombie(_name).then(function(transactionHash){that.setState({transactionHash:transactionHash,buyAreaDisp:0,txHashDisp:1});});}},{key:\"inputChange\",value:function inputChange(){this.setState({zombieName:this.input.value});}},{key:\"render\",value:function render(){var _this2=this;if(this.state.zombies.length>0){return React.createElement(\"div\",{className:\"cards\"},this.state.zombies.map(function(item,index){var name=item.name;var level=item.level;return React.createElement(Link,{to:\"?ZombieDetail&id=\"+item.zombieId,key:index},React.createElement(ZombieCard,{zombie:item,name:name,level:level,key:index}));}),React.createElement(Route,{path:\"*\",component:Page}),React.createElement(\"div\",{className:\"buyArea\",display:this.state.buyAreaDisp},React.createElement(\"div\",{className:\"zombieInput\"},React.createElement(\"input\",{type:\"text\",id:\"zombieName\",placeholder:\"Choose A Name\",ref:function ref(input){_this2.input=input;},value:this.state.zombieName,onChange:this.inputChange})),React.createElement(\"div\",null,React.createElement(\"button\",{className:\"attack-btn\",onClick:this.buyZombie},React.createElement(\"span\",null,\"Buy\")))),React.createElement(\"div\",{className:\"transactionHash\",display:this.state.txHashDisp},this.state.transactionHash,React.createElement(\"br\",null),\"Waiting confirmation...\"));}else{return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"createArea\",display:this.state.createAreaDisp},React.createElement(\"div\",{className:\"zombieInput\"},React.createElement(\"input\",{type:\"text\",id:\"zombieName\",placeholder:\"Choose A Name\",ref:function ref(input){_this2.input=input;},value:this.state.zombieName,onChange:this.inputChange})),React.createElement(\"div\",null,React.createElement(\"button\",{className:\"attack-btn\",onClick:this.createZombie},React.createElement(\"span\",null,\"Create\")))),React.createElement(\"div\",{className:\"transactionHash\",display:this.state.txHashDisp},this.state.transactionHash,React.createElement(\"br\",null),\"Waiting confirmation...\"));}}}]);return MyZombie;}(Component);export default MyZombie;","map":{"version":3,"sources":["C:/my-crypto-zombie/src/MyZombie.js"],"names":["React","Component","ZombieCard","Page","MyWeb3","BrowserRouter","Route","Link","MyZombie","props","state","zombieCount","zombies","zombieName","transactionHash","buyAreaDisp","createAreaDisp","txHashDisp","createZombie","bind","buyZombie","inputChange","that","ethereum","window","web3","init","then","res","myZombies","alert","getZombiesByOwner","length","i","result","_zombies","zombieId","push","setState","_name","input","value","map","item","index","name","level"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport ZombieCard from \"./ZombieCard\"\r\nimport './static/ZombiePreview.css'\r\nimport Page from \"./Page\"\r\nimport MyWeb3 from './MyWeb3'\r\nimport {\r\n    BrowserRouter as \r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\"\r\n\r\nclass MyZombie extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {zombieCount:\"\",zombies:[],zombieName:'',transactionHash:'',buyAreaDisp:1,createAreaDisp:1,txHashDisp:0}\r\n        this.createZombie=this.createZombie.bind(this)\r\n        this.buyZombie=this.buyZombie.bind(this)\r\n        this.inputChange=this.inputChange.bind(this)\r\n    }\r\n        \r\n    componentDidMount(){\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof  ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                that.myZombies()\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n    \r\n    myZombies(){\r\n        let that = this\r\n        MyWeb3.getZombiesByOwner().then(function(zombies){\r\n            if(zombies.length > 0){\r\n                for(let i=0;i<zombies.length;i++){\r\n                    MyWeb3.zombies(zombies[i]).then(function (result) {\r\n                        let _zombies = that.state.zombies\r\n                        result.zombieId = zombies[i]\r\n                        _zombies.push(result);\r\n                        that.setState({zombies:_zombies})\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n    createZombie(){\r\n        let that = this\r\n        let _name = this.state.zombieName\r\n        MyWeb3.createZombie(_name).then(function(transactionHash){\r\n            that.setState({\r\n                transactionHash:transactionHash,\r\n                createAreaDisp:0,\r\n                txHashDisp:1\r\n            })\r\n        })\r\n    }\r\n    buyZombie(){\r\n        let that = this\r\n        let _name = this.state.zombieName\r\n        MyWeb3.buyZombie(_name).then(function(transactionHash){\r\n            that.setState({\r\n                transactionHash:transactionHash,\r\n                buyAreaDisp:0,\r\n                txHashDisp:1\r\n            })\r\n        })\r\n    }\r\n    inputChange(){\r\n        this.setState({\r\n            zombieName:this.input.value\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        if(this.state.zombies.length>0) {\r\n            return ( \r\n                <div className=\"cards\">\r\n                    {this.state.zombies.map((item,index)=>{\r\n                        var name = item.name\r\n                        var level = item.level\r\n                        return(\r\n                            <Link to={`?ZombieDetail&id=`+item.zombieId} key={index}>\r\n                                <ZombieCard zombie={item} name={name} level={level} key={index}></ZombieCard>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                    <Route path=\"*\" component={Page}></Route>\r\n                    <div className='buyArea' display={this.state.buyAreaDisp}>\r\n                        <div className='zombieInput'>\r\n                            <input \r\n                                type=\"text\" \r\n                                id='zombieName' \r\n                                placeholder='Choose A Name' \r\n                                ref={(input)=>{this.input=input}} \r\n                                value={this.state.zombieName}\r\n                                onChange={this.inputChange}>\r\n                            </input>\r\n                        </div>\r\n                        <div>\r\n                            <button className=\"attack-btn\" onClick={this.buyZombie}>\r\n                                <span>\r\n                                    Buy    \r\n                                </span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className='transactionHash' display={this.state.txHashDisp}>{this.state.transactionHash}<br></br>Waiting confirmation...</div>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(<div>\r\n                <div className='createArea' display={this.state.createAreaDisp}>\r\n                    <div className='zombieInput'>\r\n                        <input \r\n                            type=\"text\" \r\n                            id='zombieName' \r\n                            placeholder='Choose A Name' \r\n                            ref={(input)=>{this.input=input}} \r\n                            value={this.state.zombieName}\r\n                            onChange={this.inputChange}>\r\n                        </input>\r\n                    </div>\r\n                    <div>\r\n                        <button className=\"attack-btn\" onClick={this.createZombie}>\r\n                            <span>\r\n                                Create    \r\n                            </span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className='transactionHash' display={this.state.txHashDisp}>{this.state.transactionHash}<br></br>Waiting confirmation...</div>\r\n            </div>)\r\n        }\r\n    }\r\n}  \r\nexport default MyZombie;"]},"metadata":{},"sourceType":"module"}