{"ast":null,"code":"import _classCallCheck from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\my-crypto-zombie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import ZombieCard from\"./ZombieCard\";import'./static/ZombiePreview.css';import MyWeb3 from'./MyWeb3';import{BrowserRouter as Route,Link}from\"react-router-dom\";import Page from\"./Page\";var ZombieArmy=/*#__PURE__*/function(_Component){_inherits(ZombieArmy,_Component);function ZombieArmy(props){var _this;_classCallCheck(this,ZombieArmy);_this=_possibleConstructorReturn(this,_getPrototypeOf(ZombieArmy).call(this,props));_this.state={zombieCount:\"\",zombies:[]};return _this;}_createClass(ZombieArmy,[{key:\"componentDidMount\",value:function componentDidMount(){var that=this;var ethereum=window.ethereum;if(typeof ethereum!=='undefined'||typeof window.web3!=='undefined'){MyWeb3.init().then(function(res){that.zombieArmy();});}else{alert('You have to install MetaMask !');}}},{key:\"zombieArmy\",value:function zombieArmy(){var that=this;MyWeb3.zombieCount().then(function(result){if(result>0){var _loop=function _loop(i){MyWeb3.zombies(i).then(function(result){var _zombies=that.state.zombies;result.zombieId=i;_zombies.push(result);that.setState({zombies:_zombies});});};for(var i=0;i<result;i++){_loop(i);}}});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.setState=function(state,callback){return;};}},{key:\"render\",value:function render(){if(this.state.zombies.length>0){return React.createElement(\"div\",{className:\"cards\"},this.state.zombies.map(function(item,index){var name=item.name;var level=item.level;return React.createElement(Link,{to:\"?ZombieDetail&id=\"+item.zombieId,key:index},React.createElement(ZombieCard,{zombie:item,name:name,level:level,key:index}));}),React.createElement(Route,{path:\"*\",component:Page}));}else{return React.createElement(\"div\",null);}}}]);return ZombieArmy;}(Component);export default ZombieArmy;","map":{"version":3,"sources":["C:/my-crypto-zombie/src/ZombieArmy.js"],"names":["React","Component","ZombieCard","MyWeb3","BrowserRouter","Route","Link","Page","ZombieArmy","props","state","zombieCount","zombies","that","ethereum","window","web3","init","then","res","zombieArmy","alert","result","i","_zombies","zombieId","push","setState","callback","length","map","item","index","name","level"],"mappings":"8tBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAO,4BAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OACIC,aAAa,GACbC,CAAAA,KAFJ,CAGIC,IAHJ,KAIS,kBAJT,CAKA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,C,GAEMC,CAAAA,U,oEACF,oBAAYC,KAAZ,CAAmB,4CACf,4EAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CAAEC,WAAW,CAAC,EAAd,CAAiBC,OAAO,CAAC,EAAzB,CAAb,CAFe,aAGlB,C,oFAEkB,CACf,GAAIC,CAAAA,IAAI,CAAG,IAAX,CACA,GAAIC,CAAAA,QAAQ,CAAGC,MAAM,CAACD,QAAtB,CACA,GAAI,MAAOA,CAAAA,QAAP,GAAoB,WAApB,EAAoC,MAAOC,CAAAA,MAAM,CAACC,IAAd,GAAuB,WAA/D,CAA6E,CACzEb,MAAM,CAACc,IAAP,GAAcC,IAAd,CAAmB,SAASC,GAAT,CAAa,CAC5BN,IAAI,CAACO,UAAL,GACH,CAFD,EAGH,CAJD,IAIM,CACFC,KAAK,CAAC,gCAAD,CAAL,CACH,CACJ,C,+CACW,CACR,GAAIR,CAAAA,IAAI,CAAG,IAAX,CACAV,MAAM,CAACQ,WAAP,GAAqBO,IAArB,CAA0B,SAASI,MAAT,CAAgB,CACtC,GAAGA,MAAM,CAAG,CAAZ,CAAc,0BACFC,CADE,EAENpB,MAAM,CAACS,OAAP,CAAeW,CAAf,EAAkBL,IAAlB,CAAuB,SAAUI,MAAV,CAAkB,CACrC,GAAIE,CAAAA,QAAQ,CAAGX,IAAI,CAACH,KAAL,CAAWE,OAA1B,CACAU,MAAM,CAACG,QAAP,CAAkBF,CAAlB,CACAC,QAAQ,CAACE,IAAT,CAAcJ,MAAd,EACAT,IAAI,CAACc,QAAL,CAAc,CAACf,OAAO,CAACY,QAAT,CAAd,EACH,CALD,EAFM,EACV,IAAI,GAAID,CAAAA,CAAC,CAAC,CAAV,CAAYA,CAAC,CAACD,MAAd,CAAqBC,CAAC,EAAtB,CAAyB,OAAjBA,CAAiB,EAOxB,CACJ,CACJ,CAXD,EAYH,C,mEACsB,CACnB,KAAKI,QAAL,CAAgB,SAACjB,KAAD,CAAQkB,QAAR,CAAqB,CACjC,OACH,CAFD,CAGH,C,uCACQ,CACL,GAAG,KAAKlB,KAAL,CAAWE,OAAX,CAAmBiB,MAAnB,CAA0B,CAA7B,CAAgC,CAC5B,MACI,4BAAK,SAAS,CAAC,OAAf,EACK,KAAKnB,KAAL,CAAWE,OAAX,CAAmBkB,GAAnB,CAAuB,SAACC,IAAD,CAAMC,KAAN,CAAc,CAClC,GAAIC,CAAAA,IAAI,CAAGF,IAAI,CAACE,IAAhB,CACA,GAAIC,CAAAA,KAAK,CAAGH,IAAI,CAACG,KAAjB,CACA,MACI,qBAAC,IAAD,EAAM,EAAE,CAAE,oBAAoBH,IAAI,CAACN,QAAnC,CAA6C,GAAG,CAAEO,KAAlD,EACI,oBAAC,UAAD,EAAY,MAAM,CAAED,IAApB,CAA0B,IAAI,CAAEE,IAAhC,CAAsC,KAAK,CAAEC,KAA7C,CAAoD,GAAG,CAAEF,KAAzD,EADJ,CADJ,CAKH,CARA,CADL,CAUI,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,SAAS,CAAEzB,IAA3B,EAVJ,CADJ,CAcH,CAfD,IAeK,CACD,MAAS,gCAAT,CACH,CACJ,C,wBAxDoBN,S,EA2DzB,cAAeO,CAAAA,UAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport ZombieCard from \"./ZombieCard\";\r\nimport './static/ZombiePreview.css';\r\nimport MyWeb3 from './MyWeb3'\r\nimport {\r\n    BrowserRouter as \r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\"\r\nimport Page from \"./Page\";\r\n\r\nclass ZombieArmy extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { zombieCount:\"\",zombies:[] }\r\n    }\r\n        \r\n    componentDidMount(){\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                that.zombieArmy()\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n    zombieArmy(){\r\n        let that = this\r\n        MyWeb3.zombieCount().then(function(result){\r\n            if(result > 0){\r\n                for(let i=0;i<result;i++){\r\n                    MyWeb3.zombies(i).then(function (result) {\r\n                        let _zombies = that.state.zombies\r\n                        result.zombieId = i\r\n                        _zombies.push(result);\r\n                        that.setState({zombies:_zombies})\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        this.setState = (state, callback) => {\r\n            return\r\n        }\r\n    }\r\n    render() { \r\n        if(this.state.zombies.length>0) {\r\n            return ( \r\n                <div className=\"cards\">\r\n                    {this.state.zombies.map((item,index)=>{\r\n                        var name = item.name\r\n                        var level = item.level\r\n                        return(\r\n                            <Link to={`?ZombieDetail&id=`+item.zombieId} key={index}>\r\n                                <ZombieCard zombie={item} name={name} level={level} key={index}></ZombieCard>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                    <Route path=\"*\" component={Page}></Route>\r\n                </div> \r\n            )\r\n        }else{\r\n            return ( <div></div>)\r\n        }\r\n    }\r\n}\r\n \r\nexport default ZombieArmy;"]},"metadata":{},"sourceType":"module"}